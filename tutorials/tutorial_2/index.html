<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex/" /><link rel="search" title="Search" href="../../search/" /><link rel="next" title="Tutorial 3: The phenopype workflows" href="../tutorial_3/" /><link rel="prev" title="Tutorial 1: A (very) brief python introduction" href="../tutorial_1/" />

    <!-- Generated with Sphinx 7.3.7 and Furo 2024.05.06 -->
        <title>Tutorial 2: Interacting with images in phenopype - phenopype docs</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/twemoji.css?v=2199c511" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=dafe9a71" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../"><div class="brand">phenopype docs</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/phenopype_logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">phenopype docs</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Internal links</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/">Quickstart</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../installation/">Installation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Installation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation/python/">1. Installing Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/phenopype/">2. Installing phenopype</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/text/">3. Choosing a text editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/spyder/">4. Installing Spyder (optional)</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../api/">API reference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of API reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/project/">Project class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/pype/">Pype class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/project_labelling/">Project_labelling class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/utility/">Utility functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/core/">Core modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/video/">Video analysis</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../">Tutorials</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../tutorial_1/">Tutorial 1: A (very) brief python introduction</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Tutorial 2: Interacting with images in phenopype</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_3/">Tutorial 3: The phenopype workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_4/">Tutorial 4: The Pype class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_5/">Tutorial 5: Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_6/">Tutorial 6:  Size and colour reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial_7/">Tutorial 7: Video analysis</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../templates/">Templates</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Templates</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../templates/detection/">Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../templates/landmarks/">Landmarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../templates/gallery/">Gallery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../templates/various/">Various</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../resources/">Resources</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Resources</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../resources/python/">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/opencv/">OpenCV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/cv/">Computer vision</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/yaml/">YAML</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../citation/">Citation</a></li>
</ul>

    <ul class="current">
		<p class="caption"><span class="caption-text">External links</span></p>		
		<li class="toctree-l1"><a class="reference external" href="https://www.phenopype.org">Homepage</a></li>
		<li class="toctree-l1"><a class="reference external" href="https://github.com/phenopype/phenopype">Github</a></li>
		<li class="toctree-l1"><a class="reference external" href="https://www.phenopype.org/gallery/">Gallery</a></li>
		<li class="toctree-l1"><a class="reference external" href="https://www.luerig.net/">Author (luerig.net)</a></li>
	</ul>
</div>

</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../_sources/tutorials/tutorial_2.ipynb.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section class="tex2jax_ignore mathjax_ignore" id="tutorial-2-interacting-with-images-in-phenopype">
<h1>Tutorial 2: Interacting with images in phenopype<a class="headerlink" href="#tutorial-2-interacting-with-images-in-phenopype" title="Link to this heading">¶</a></h1>
<p>In this tutorial we learn how to open and close images in phenopype, and how to use the interactive featues of the program.  Phenopype uses OpenCV’s HighGUI module to display images and to allow users to interact with images. HighGUI has a few pros and cons:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span> <span class="n">native</span> <span class="n">OpenCV</span> <span class="n">GUI</span> <span class="p">(</span><span class="n">no</span> <span class="n">extra</span> <span class="n">GUI</span> <span class="n">libraries</span> <span class="n">required</span><span class="p">)</span>
<span class="o">+</span> <span class="n">the</span> <span class="n">module</span> <span class="ow">is</span> <span class="n">extremely</span> <span class="n">fast</span> <span class="ow">in</span> <span class="n">displaying</span> <span class="n">images</span> 
<span class="o">+</span> <span class="n">it</span> <span class="n">can</span> <span class="n">display</span> <span class="n">very</span> <span class="n">large</span> <span class="n">image</span><span class="o">-</span><span class="n">arrays</span> <span class="p">(</span><span class="o">&gt;</span> <span class="mi">10000</span><span class="n">x10000</span> <span class="n">pixels</span><span class="p">)</span>
<span class="o">+</span> <span class="n">it</span> <span class="n">can</span> <span class="n">display</span> <span class="n">multiple</span> <span class="n">images</span> <span class="n">side</span> <span class="n">by</span> <span class="n">side</span>
<span class="o">+</span> <span class="n">interactions</span> <span class="p">(</span><span class="n">drawing</span> <span class="ow">and</span> <span class="n">measuring</span><span class="p">)</span> <span class="n">are</span> <span class="n">possible</span> 

<span class="o">-</span> <span class="n">sometimes</span> <span class="n">unstable</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">windows</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">closed</span> <span class="n">but</span> <span class="n">freeze</span><span class="p">)</span>
<span class="o">-</span> <span class="n">issues</span> <span class="k">with</span> <span class="n">cross</span> <span class="n">plattform</span> <span class="n">stability</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span> <span class="n">on</span> <span class="n">macOS</span><span class="p">)</span>
<span class="o">-</span> <span class="n">displaying</span> <span class="n">instructions</span> <span class="ow">is</span> <span class="n">hacky</span> <span class="p">(</span><span class="n">text</span> <span class="ow">is</span> <span class="s2">&quot;painted&quot;</span> <span class="n">onto</span> <span class="n">a</span> <span class="n">displayed</span> <span class="n">image</span><span class="p">)</span> 
<span class="o">-</span> <span class="n">user</span> <span class="nb">input</span> <span class="p">(</span><span class="n">key</span> <span class="n">strokes</span> <span class="ow">and</span> <span class="n">mouse</span> <span class="n">clicks</span><span class="p">)</span> <span class="n">sometimes</span> <span class="n">isn</span><span class="s1">&#39;t captured properly</span>
</pre></div>
</div>
<p>Currently Phenopype uses the standard HighGUI libraries that ship with the most recent precompiled <code class="docutils literal notranslate"><span class="pre">opencv-contrib-python</span></code> package, which is <code class="docutils literal notranslate"><span class="pre">Qt</span></code> for Linux and macOS, and <code class="docutils literal notranslate"><span class="pre">Win32</span> <span class="pre">UI</span></code> on Windows. The <code class="docutils literal notranslate"><span class="pre">Qt</span></code> GUI is a bit more userfriendly with builtin buttons, scrollbars, RGB info and zoom, but you don’t actually need those things for basic Phenopype GUI interactions.</p>
<div class="alert alert-block alert-info ">
<div class="admonition seealso">
<p class="admonition-title" > See also:</p>
<p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.phenopype.org/docs/resources/cv/">CV resources in the phenopype docs</a></p></li>
<li><p><a class="reference external" href="https://docs.opencv.org/master/dc/d46/group__highgui__qt.html">OpenCV HighGUI docs</a></p></li>
</ul>
</p>
</div>
</div><section id="gui-control">
<h2>GUI control<a class="headerlink" href="#gui-control" title="Link to this heading">¶</a></h2>
<div class="alert alert-block alert-danger ">
<div class="admonition attention">
<p class="admonition-title">IMPORTANT - read before continuing:</p>
<p>
<p><strong>Open</strong></p>
<p>In a very simple case, where you want to just inspect an image file from within phenopype, you use the <code class="docutils literal notranslate"><span class="pre">load_image</span></code> function to load an image file into Python as an array, and then display it with <code class="docutils literal notranslate"><span class="pre">show_image</span></code>. A HighGUI window will pop up and display the array. While the window is open, the Python kernel is “busy”, and you cannot interact with the console, i.e. run any code - you first have to close the image again.</p>
<p><strong>Close</strong></p>
<p>Although the HighGUI window has the “red crossed” close button in the upper right corner, DO NOT USE IT! For practical reasons,  phenopype relies on key strokes to control the windows. Make sure that the window is selected / highlighted, and use the following key combinations to close it:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Enter</span></code> - close window or finish an interactive function in <code class="docutils literal notranslate"><span class="pre">pype</span></code>-mode</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Ctrl+Enter</span></code> - close and finish a window in <code class="docutils literal notranslate"><span class="pre">pype</span></code>-mode</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Esc</span></code> - close a window and quit the Phenoype process that invoked it. This may also work when the process is frozen.</p></li>
</ul>
<p><strong>Issues</strong></p>
<p>Unfortunately the HighGUI isn’t exactly stable, and may sometimes behave unexpectedly. Here are solutions to the most comment issues:</p>
<ul class="simple">
<li><p>If a keystroke doen’t do anything the first time, try a few times more (Phenopype “listens” to your keystroke while refreshing the presented image, and sometimes a refreshing operation overlaps with user input and it is not recognized).</p></li>
<li><p>If your keystore still isn’t recognized, make sure the window is highlighted (i.e. click on it) and try again.</p></li>
<li><p>If you killed a process but the window still open (i.e. the kernel is not busy anymore), type
<code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">cv2</span></code> and <code class="docutils literal notranslate"><span class="pre">cv2.destroyAllWindows()</span></code> into the console to close the window.</p></li>
<li><p>If a window and the Python kernel is frozen permanently, you need to restart it - sorry!</p></li>
</ul>
</p>
</div>
</div></section>
<section id="opening-images-in-phenopype">
<h2>Opening images in phenopype<a class="headerlink" href="#opening-images-in-phenopype" title="Link to this heading">¶</a></h2>
<p>To open an image, it first has to be loaded as an array using <code class="docutils literal notranslate"><span class="pre">load_image</span></code>. The array can then be passed on to <code class="docutils literal notranslate"><span class="pre">show_image</span></code>, which simply displays an image (no interactions, except zooming in using the mousewheel). The window is closed by keystroke (<code class="docutils literal notranslate"><span class="pre">Enter</span></code>, or <code class="docutils literal notranslate"><span class="pre">Esc</span></code> which both closes the window and ends ongoing processes).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">phenopype</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">load_image</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span><span class="s1">&#39;stickle1.jpg&#39;</span><span class="p">))</span> 
<span class="n">pp</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">show_image</span></code> can also handle multiple images. Here we loop through the <em>images</em> folder, attach all images to a list, and pass that list of arrays to the functions - it will give a warning if more than 10 images are being opened at the same time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="n">images</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># square-brakets make an empty list</span>
<span class="n">names</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">)</span> <span class="c1"># making a list of all the files names inside a directory</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span> <span class="c1"># looping along our list of names</span>
    <span class="n">filepath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="c1"># joining name and path strings </span>
    <span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pp</span><span class="o">.</span><span class="n">load_image</span><span class="p">(</span><span class="n">filepath</span><span class="p">))</span> <span class="c1"># load images and store them in list</span>

<span class="n">pp</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">images</span><span class="p">,</span> <span class="n">position_offset</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span> <span class="c1">## show all images in the image folder in the tutorial directory</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Invalid file extension &quot;.mp4&quot; - could not load image:

skipped showing list item of type NoneType
phenopype - 2
phenopype - 3
phenopype - 4
phenopype - 5
phenopype - 6
</pre></div>
</div>
</div>
</div>
<p>The function has a few more options to arrange and separte images across the screen. Future version of phenopype will do this in more meaningful manner (e.g., arrange small images side by side until the screen is filled).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pp</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">images</span><span class="p">,</span> 
              <span class="n">window_max_dim</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>     <span class="c1"># maximum dimension (in either direction) for the windows</span>
              <span class="n">position_offset</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>    <span class="c1"># window offset if multiple windows are displayed</span>
              <span class="n">position_reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>    <span class="c1"># reset window positions (i.e. window position will not be remembered from previous call)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>skipped showing list item of type NoneType
phenopype - 2
phenopype - 3
phenopype - 4
phenopype - 5
phenopype - 6
</pre></div>
</div>
</div>
</div>
</section>
<section id="creating-masks">
<h2>Creating masks<a class="headerlink" href="#creating-masks" title="Link to this heading">¶</a></h2>
<p>Masking, i.e. removing unwanted parts of an image that contain noise by including or excluding certain parts of the image, is an important preprocessing step in any computer vision workflow. Phenopype’s <code class="docutils literal notranslate"><span class="pre">create_mask</span></code> tool provides flexibility when drawing masks.</p>
<center>
<div style="width:500px; text-align: left" >
<p><img alt="Create masks" src="../../_images/masks2.gif" /></p>
<p><strong>Fig. 1:</strong> Phenopype’s mask tool in action. You can include or exclude certain parts of the image; the resulting coordinates are recognized in subsequent computer vision steps (e.g. thresholding)</p>
</div>
</center><p>Using <code class="docutils literal notranslate"><span class="pre">create_mask</span></code> results in a DataFrame object that contains coordinates of the created mask. You can add multiple “submasks” that belong to the same mask layer that don’t have to be connected, and right click takes you one step back. Single polygons are finished with <code class="docutils literal notranslate"><span class="pre">Ctrl</span></code>, finish with <code class="docutils literal notranslate"><span class="pre">Enter</span></code> - the last open polyon will automatically be completed. Finish with <code class="docutils literal notranslate"><span class="pre">Enter</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">img</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">load_image</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;data&quot;</span><span class="p">,</span><span class="s1">&#39;stickle1.jpg&#39;</span><span class="p">))</span> 
<span class="n">mask_plates</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">preprocessing</span><span class="o">.</span><span class="n">create_mask</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">tool</span><span class="o">=</span><span class="s2">&quot;polygon&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;plates&quot;</span><span class="p">)</span>
<span class="n">mask_plates</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;mask&#39;: {&#39;a&#39;: {&#39;info&#39;: {&#39;annotation_type&#39;: &#39;mask&#39;,
    &#39;phenopype_function&#39;: &#39;create_mask&#39;,
    &#39;phenopype_version&#39;: &#39;3.2.3&#39;},
   &#39;settings&#39;: {&#39;tool&#39;: &#39;polygon&#39;,
    &#39;line_width&#39;: 5,
    &#39;line_colour&#39;: (0, 255, 0),
    &#39;label_size&#39;: 1,
    &#39;label_width&#39;: 1,
    &#39;label_colour&#39;: (0, 255, 0)},
   &#39;data&#39;: {&#39;label&#39;: &#39;plates&#39;,
    &#39;include&#39;: True,
    &#39;n&#39;: 1,
    &#39;mask&#39;: [[(1373, 271),
      (1376, 443),
      (1859, 429),
      (1878, 378),
      (1702, 361),
      (1390, 268),
      (1373, 271)]]}}}}
</pre></div>
</div>
</div>
</div>
<p>Creating masks like this corresponds to the <a class="reference internal" href="../tutorial_3/#Low-throughput-workflow"><span class="std std-ref">low throughput workflow</span></a>, in which we first use <code class="docutils literal notranslate"><span class="pre">create_mask</span></code> to retrieve the mask coordinates, and then <code class="docutils literal notranslate"><span class="pre">draw_masks</span></code> to visualize the mask that was just created. A “canvas” is created with the original image and the mask coordinates, which can then be shown using <code class="docutils literal notranslate"><span class="pre">show_image</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">canvas</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">draw_mask</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> 
                                    <span class="n">annotations</span><span class="o">=</span><span class="n">mask_plates</span><span class="p">,</span> 
                                    <span class="n">label</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
                                    <span class="n">label_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> 
                                    <span class="n">line_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                    <span class="n">label_width</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>    
<span class="n">pp</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>In this step, select the reference card to and set <code class="docutils literal notranslate"><span class="pre">include=False</span></code> to exclude it. We use the previously created canvas to know which areas have been masked already. Then we create and visualize a new canvas, which will draw both masks onto the original image.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mask_scale</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">preprocessing</span><span class="o">.</span><span class="n">create_mask</span><span class="p">(</span>
    <span class="n">canvas</span><span class="p">,</span> 
    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;scale&quot;</span><span class="p">,</span> 
    <span class="n">line_colour</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
    <span class="n">include</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">canvas</span> <span class="o">=</span> <span class="n">pp</span><span class="o">.</span><span class="n">visualization</span><span class="o">.</span><span class="n">draw_mask</span><span class="p">(</span>
    <span class="n">canvas</span><span class="p">,</span> 
    <span class="n">annotations</span><span class="o">=</span><span class="n">mask_scale</span><span class="p">,</span> 
    <span class="n">line_colour</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
    <span class="n">label_colour</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span>
    <span class="n">label_size</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> 
    <span class="n">line_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">label_width</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
<span class="p">)</span>    
<span class="n">pp</span><span class="o">.</span><span class="n">show_image</span><span class="p">(</span><span class="n">canvas</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>With this tutorial we have learned how to handle images and some basic interactions - proceed with <a class="reference internal" href="../tutorial_3/"><span class="std std-doc">Tutorial 3</span></a> to get started with image anaysis and learn about the different workflows that phenopype offers.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../tutorial_3/">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Tutorial 3: The phenopype workflows</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../tutorial_1/">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Tutorial 1: A (very) brief python introduction</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Moritz Lürig
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 2024-07-03 18:34:04</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Tutorial 2: Interacting with images in phenopype</a><ul>
<li><a class="reference internal" href="#gui-control">GUI control</a></li>
<li><a class="reference internal" href="#opening-images-in-phenopype">Opening images in phenopype</a></li>
<li><a class="reference internal" href="#creating-masks">Creating masks</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=fceb765d"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="https://unpkg.com/twemoji@latest/dist/twemoji.min.js"></script>
    <script src="../../_static/twemoji.js?v=a4381b3f"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../_static/js/custom.js?v=07e4e0e4"></script>
    <script src="https://cdn.jsdelivr.net/gh/mluerig/website-assets/assets/js/enforce_trailing_slash.min.js"></script>
    </body>
</html>