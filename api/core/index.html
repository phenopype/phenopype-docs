<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex/" /><link rel="search" title="Search" href="../../search/" /><link rel="next" title="Video analysis" href="../video/" /><link rel="prev" title="Utility functions" href="../utility/" />

    <!-- Generated with Sphinx 7.3.7 and Furo 2024.05.06 -->
        <title>Core modules - phenopype docs</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/twemoji.css?v=2199c511" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=dafe9a71" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../"><div class="brand">phenopype docs</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../../_static/phenopype_logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">phenopype docs</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search/" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Internal links</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/">Quickstart</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../installation/">Installation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Installation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation/python/">1. Installing Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/phenopype/">2. Installing phenopype</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/text/">3. Choosing a text editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/spyder/">4. Installing Spyder (optional)</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../">API reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of API reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../project/">Project class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pype/">Pype class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../project_labelling/">Project_labelling class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utility/">Utility functions</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Core modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../video/">Video analysis</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorials/">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/tutorial_1/">Tutorial 1: A (very) brief python introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/tutorial_2/">Tutorial 2: Interacting with images in phenopype</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/tutorial_3/">Tutorial 3: The phenopype workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/tutorial_4/">Tutorial 4: The Pype class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/tutorial_5/">Tutorial 5: Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/tutorial_6/">Tutorial 6:  Size and colour reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/tutorial_7/">Tutorial 7: Video analysis</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../templates/">Templates</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Templates</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../templates/detection/">Detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../templates/landmarks/">Landmarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../templates/gallery/">Gallery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../templates/various/">Various</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../resources/">Resources</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Resources</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../resources/python/">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/opencv/">OpenCV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/cv/">Computer vision</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../resources/yaml/">YAML</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../citation/">Citation</a></li>
</ul>

    <ul class="current">
		<p class="caption"><span class="caption-text">External links</span></p>		
		<li class="toctree-l1"><a class="reference external" href="https://www.phenopype.org">Homepage</a></li>
		<li class="toctree-l1"><a class="reference external" href="https://github.com/phenopype/phenopype">Github</a></li>
		<li class="toctree-l1"><a class="reference external" href="https://www.phenopype.org/gallery/">Gallery</a></li>
		<li class="toctree-l1"><a class="reference external" href="https://www.luerig.net/">Author (luerig.net)</a></li>
	</ul>
</div>

</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../_sources/api/core.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="core-modules">
<h1>Core modules<a class="headerlink" href="#core-modules" title="Link to this heading">¶</a></h1>
<p>Core image processing functions. Any function can be executed in manual mode (python code) or interactive mode (yaml files). In general, the typical order in which the different steps are performed is something like:</p>
<p><strong>preprocessing &gt; segmentation &gt; measurement &gt; visualization &gt; export</strong></p>
<p>However, since phenopype version 2 <strong>you can arrange them however you like</strong>.</p>
<section id="module-phenopype.core.preprocessing">
<span id="preprocessing"></span><h2>Preprocessing<a class="headerlink" href="#module-phenopype.core.preprocessing" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.preprocessing.blur">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.preprocessing.</span></span><span class="sig-name descname"><span class="pre">blur</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'averaging'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_space</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">75</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_kernel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.preprocessing.blur" title="Link to this definition">¶</a></dt>
<dd><p>Apply a blurring algorithm to an image with enhanced features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – The input image.</p></li>
<li><p><strong>kernel_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Size of the blurring kernel, must be positive and odd.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – Blurring algorithm: ‘averaging’, ‘gaussian’, ‘median’, ‘bilateral’, or ‘custom’.</p></li>
<li><p><strong>sigma_color</strong> (<em>int</em><em>, </em><em>optional</em>) – For ‘bilateral’ filter, the filter sigma in the color space.</p></li>
<li><p><strong>sigma_space</strong> (<em>int</em><em>, </em><em>optional</em>) – For ‘bilateral’ filter, the filter sigma in the coordinate space.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, prints additional details about the process.</p></li>
<li><p><strong>custom_kernel</strong> (<em>ndarray</em><em>, </em><em>optional</em>) – Custom kernel for convolution if method is ‘custom’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The blurred image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.preprocessing.clip_histogram">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.preprocessing.</span></span><span class="sig-name descname"><span class="pre">clip_histogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.preprocessing.clip_histogram" title="Link to this definition">¶</a></dt>
<dd><p>Enhances the contrast of an image by clipping the histogram and applying histogram stretching.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – The input grayscale image.</p></li>
<li><p><strong>percent</strong> (<em>float</em><em>, </em><em>optional</em>) – The percentage of the histogram to be clipped from both tails. Default is 1%.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>image</strong> – The contrast-enhanced image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.preprocessing.create_mask">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.preprocessing.</span></span><span class="sig-name descname"><span class="pre">create_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rectangle'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.preprocessing.create_mask" title="Link to this definition">¶</a></dt>
<dd><p>Mask an area by drawing a rectangle or polygon. Multiple mask components count
as the same mask - e.g., if objects that you would like to mask out or include
can be scattered across the image. Rectangles will finish upon lifting the mouse
button, polygons are completed by pressing CTRL.</p>
<p>ANNOTATION FUNCTION</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>array</em>) – input image</p></li>
<li><p><strong>tool</strong> (<em>{&quot;rectangle&quot;</em><em>,</em><em>&quot;polygon&quot;} str</em><em>, </em><em>optional</em>) – Type of mask tool to be used. The default is “rectangle”.</p></li>
<li><p><strong>include</strong> (<em>bool</em><em>, </em><em>optional</em>) – include or exclude area inside mask</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – label string for this mask and all its components</p></li>
<li><p><strong>line_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour line colour - default colour as specified in settings</p></li>
<li><p><strong>line_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour line width - automatically scaled to image by default</p></li>
<li><p><strong>label_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour label colour - default colour as specified in settings</p></li>
<li><p><strong>label_size</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font size - automatically scaled to image by default</p></li>
<li><p><strong>label_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font thickness - automatically scaled to image by default</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotations</strong> – phenopype annotation containing mask coordinates</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.preprocessing.detect_mask">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.preprocessing.</span></span><span class="sig-name descname"><span class="pre">detect_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'circle'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circle_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'dp':</span> <span class="pre">1,</span> <span class="pre">'max_radius':</span> <span class="pre">0,</span> <span class="pre">'min_dist':</span> <span class="pre">50,</span> <span class="pre">'min_radius':</span> <span class="pre">0,</span> <span class="pre">'param1':</span> <span class="pre">200,</span> <span class="pre">'param2':</span> <span class="pre">100}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.preprocessing.detect_mask" title="Link to this definition">¶</a></dt>
<dd><p>Detects geometric shapes in a single channel image (currently only circles
are implemented) and converts boundary contours to a mask to include or exclude
parts of the image. Depending on the object type, different settings apply.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image (single channel).</p></li>
<li><p><strong>include</strong> (<em>bool</em><em>, </em><em>optional</em>) – should the resulting mask include or exclude areas. The default is True.</p></li>
<li><p><strong>shape</strong> (<em>str</em><em>, </em><em>optional</em>) – which geometric shape to be detected. The default is “circle”.</p></li>
<li><p><strong>resize</strong> (<em>(</em><em>0.1-1</em><em>) </em><em>float</em><em>, </em><em>optional</em>) – resize factor for image (some shape detection algorithms are slow if the
image is very large). The default is 1.</p></li>
<li><p><strong>circle_args</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>A set of options for circle detection (for details see
<a class="reference external" href="https://docs.opencv.org/3.4.9/dd/d1a/group__imgproc__feature.html">https://docs.opencv.org/3.4.9/dd/d1a/group__imgproc__feature.html</a> ):</p>
<blockquote>
<div><ul>
<li><p>dp: inverse ratio of the accumulator resolution to the image ressolution</p></li>
<li><p>min_dist: minimum distance between the centers of the detected circles</p></li>
<li><p>param1: higher threshold passed to the canny-edge detector</p></li>
<li><p>param2: accumulator threshold - smaller = more false positives</p></li>
<li><p>min_radius: minimum circle radius</p></li>
<li><p>max_radius: maximum circle radius</p></li>
</ul>
</div></blockquote>
<p>The default is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;dp&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
     <span class="s2">&quot;min_dist&quot;</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span>
     <span class="s2">&quot;param1&quot;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span>
     <span class="s2">&quot;param2&quot;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
     <span class="s2">&quot;min_radius&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
     <span class="s2">&quot;max_radius&quot;</span><span class="p">:</span><span class="mi">0</span>
     <span class="p">}</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotations</strong> – phenopype annotation</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.preprocessing.create_reference">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.preprocessing.</span></span><span class="sig-name descname"><span class="pre">create_reference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mm'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.preprocessing.create_reference" title="Link to this definition">¶</a></dt>
<dd><p>Measure a size or colour reference card. Minimum input interaction is
measuring a size reference: click on two points inside the provided image,
and enter the distance - returns the pixel-to-mm-ratio.</p>
<p>In an optional second step, drag a rectangle mask over the reference card
to exclude it from anysubsequent image segementation. The mask can also be
stored as a template for automatic reference detection with the
“detect_reference” function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>mask</strong> (<em>bool</em><em>, </em><em>optional</em>) – mask a reference card inside the image and return its coordinates as</p></li>
<li><p><strong>line_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour line colour - default colour as specified in settings</p></li>
<li><p><strong>line_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour line width - automatically scaled to image by default</p></li>
<li><p><strong>label_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour label colour - default colour as specified in settings</p></li>
<li><p><strong>label_size</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font size - automatically scaled to image by default</p></li>
<li><p><strong>label_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font thickness - automatically scaled to image by default</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotations</strong> – phenopype annotation</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.preprocessing.detect_reference">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.preprocessing.</span></span><span class="sig-name descname"><span class="pre">detect_reference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">px_ratio</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'a'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">manual_fallback</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct_colours</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_matches</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.preprocessing.detect_reference" title="Link to this definition">¶</a></dt>
<dd><p>Find reference from a template created with “create_reference”. Image registration
is run by the “AKAZE” algorithm. Future implementations will include more
algorithms to select from. First, use “create_reference” with “mask=True”
and pass the template to this function. This happends automatically in the
low and high throughput workflow. Use “equalize=True” to adjust the
histograms of all colour channels to the reference image.</p>
<p>AKAZE: <a class="reference external" href="http://www.bmva.org/bmvc/2013/Papers/paper0013/abstract0013.pdf">http://www.bmva.org/bmvc/2013/Papers/paper0013/abstract0013.pdf</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>template</strong> (<em>array</em>) – template image-crop containing reference card</p></li>
<li><p><strong>px_ratio</strong> – px-mm-ratio of template image</p></li>
<li><p><strong>get_mask</strong> (<em>bool</em>) – retrieve mask and create annotation. The default is True.</p></li>
<li><p><strong>manual_fallback</strong> (<em>bool</em>) – use manual reference-tool in case detection fails. The default is True.</p></li>
<li><p><strong>correct_colours</strong> (<em>bool</em><em>, </em><em>optional</em>) – should the provided image be colour corrected to match the template
images’ histogram</p></li>
<li><p><strong>min_matches</strong> (<em>int</em><em>, </em><em>optional</em>) – minimum key point matches for image registration</p></li>
<li><p><strong>resize</strong> (<em>num</em><em>, </em><em>optional</em>) – resize image to speed up detection process. default: 0.5 for
images with diameter &gt; 5000px (WARNING: too low values may
result in poor detection performance or even crashes)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotations</strong> – phenopype annotation</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.preprocessing.detect_QRcode">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.preprocessing.</span></span><span class="sig-name descname"><span class="pre">detect_QRcode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rot_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enter_manually</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ID'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.preprocessing.detect_QRcode" title="Link to this definition">¶</a></dt>
<dd><p>Find and read out a QR code that is contained inside an image. Rotate image
until code is detected, or enter code manually if detection fails.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>rot_steps</strong> (<em>int</em><em>, </em><em>optional</em>) – angle by which image is rotated (until 360 is reached). The default is 20.</p></li>
<li><p><strong>enter_manually</strong> (<em>bool</em><em>, </em><em>optional</em>) – enter code manually if detection fails. The default is False.</p></li>
<li><p><strong>show_results</strong> (<em>bool</em><em>, </em><em>optional</em>) – show the detection results. The default is False.</p></li>
<li><p><strong>label_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – text colour - default colour as specified in settings</p></li>
<li><p><strong>label_size</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – text label font size - automatically scaled to image by default</p></li>
<li><p><strong>label_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – text label font thickness - automatically scaled to image by default</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotations</strong> – phenopype annotation</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.preprocessing.decompose_image">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.preprocessing.</span></span><span class="sig-name descname"><span class="pre">decompose_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gray'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.preprocessing.decompose_image" title="Link to this definition">¶</a></dt>
<dd><p>Extract single channel from multi-channel array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>channel</strong> (<em>{&quot;raw&quot;</em><em>, </em><em>&quot;gray&quot;</em><em>, </em><em>&quot;red&quot;</em><em>, </em><em>&quot;green&quot;</em><em>, </em><em>&quot;blue&quot;</em><em>, </em><em>&quot;hue&quot;</em><em>, </em><em>&quot;saturation&quot;</em><em>, </em><em>&quot;value&quot;} str</em><em>, </em><em>optional</em>) – select specific image channel</p></li>
<li><p><strong>invert</strong> (<em>false</em><em>, </em><em>bool</em>) – invert all pixel intensities in image (e.g. 0 to 255 or 100 to 155)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>image</strong> – decomposed image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.preprocessing.write_comment">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.preprocessing.</span></span><span class="sig-name descname"><span class="pre">write_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ID'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.preprocessing.write_comment" title="Link to this definition">¶</a></dt>
<dd><p>Add a comment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>field</strong> (<em>str</em><em>, </em><em>optional</em>) – name the comment-field (useful for later processing). The default is “ID”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotation_ref</strong> – phenopype annotation containing comment</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-phenopype.core.segmentation">
<span id="segmentation"></span><h2>Segmentation<a class="headerlink" href="#module-phenopype.core.segmentation" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.segmentation.contour_to_mask">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.segmentation.</span></span><span class="sig-name descname"><span class="pre">contour_to_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box_margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">largest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.segmentation.contour_to_mask" title="Link to this definition">¶</a></dt>
<dd><p>Converts a contour to a mask annotation, e.g. for the purpose of creating an ROI
and exporting it or for subsequent segmentation inside that mask. Creates a
rectangle bounding box around the largest or all contours.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>annotation</strong> (<em>dict</em>) – phenopype annotation containing contours</p></li>
<li><p><strong>include</strong> (<em>bool</em><em>, </em><em>optional</em>) – include or exclude area inside mask</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – text label for this mask and all its components</p></li>
<li><p><strong>box_margin</strong> (<em>int</em><em>, </em><em>optional</em>) – margin that is added between the outer perimeter of the contour and the box</p></li>
<li><p><strong>largest</strong> (<em>bool</em><em>, </em><em>optional</em>) – either use only the largest contour or concatenate all supplied contours</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotation</strong> – phenopype annotation containing contours</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.segmentation.detect_contour">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.segmentation.</span></span><span class="sig-name descname"><span class="pre">detect_contour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">approximation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'simple'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retrieval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ext'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_against</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_drawing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_coords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'circle'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_diameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_diameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.segmentation.detect_contour" title="Link to this definition">¶</a></dt>
<dd><p>Find objects in binarized image. The input image needs to be a binarized image
A flavor of different approximation algorithms and retrieval intstructions can be applied.
The contours can also be filtered for minimum area, diameter or nodes
(= number of corners).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image (binary)</p></li>
<li><p><strong>approximation</strong> (<em>{&quot;none&quot;</em><em>, </em><em>&quot;simple&quot;</em><em>, </em><em>&quot;L1&quot;</em><em>, </em><em>&quot;KCOS&quot;</em><em>] </em><em>str</em><em>, </em><em>optional</em>) – <dl class="simple">
<dt>contour approximation algorithm:</dt><dd><ul>
<li><p>none: no approximation, all contour coordinates are returned</p></li>
<li><p>simple: only the minimum coordinates required are returned</p></li>
<li><p>L1: Teh-Chin chain approximation algorithm</p></li>
<li><p>KCOS: Teh-Chin chain approximation algorithm</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>retrieval</strong> (<em>{&quot;ext&quot;</em><em>, </em><em>&quot;list&quot;</em><em>, </em><em>&quot;tree&quot;</em><em>, </em><em>&quot;ccomp&quot;</em><em>, </em><em>&quot;flood&quot;} str</em><em>, </em><em>optional</em>) – <dl class="simple">
<dt>contour retrieval procedure:</dt><dd><ul>
<li><p>ext: retrieves only the extreme outer contours</p></li>
<li><p>list: retrieves all of the contours without establishing any
hierarchical relationships</p></li>
<li><p>tree: retrieves all of the contours and reconstructs a full
hierarchy of nested contours</p></li>
<li><p>ccomp: retrieves all of the contours and organizes them into a
two-level hierarchy (parent and child)</p></li>
<li><p>flood: flood-fill algorithm</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>offset_coords</strong> (<em>tuple</em><em>, </em><em>optional</em>) – offset by which every contour point is shifted.</p></li>
<li><p><strong>min_nodes</strong> (<em>int</em><em>, </em><em>optional</em>) – minimum number of coordinates</p></li>
<li><p><strong>max_nodes</strong> (<em>int</em><em>, </em><em>optional</em>) – maximum number of coordinates</p></li>
<li><p><strong>min_area</strong> (<em>int</em><em>, </em><em>optional</em>) – minimum contour area in pixels</p></li>
<li><p><strong>max_area</strong> (<em>int</em><em>, </em><em>optional</em>) – maximum contour area in pixels</p></li>
<li><p><strong>min_diameter</strong> (<em>int</em><em>, </em><em>optional</em>) – minimum diameter of boundary circle</p></li>
<li><p><strong>max_diameter</strong> (<em>int</em><em>, </em><em>optional</em>) – maximum diameter of boundary circle</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotation</strong> – phenopype annotation containing contours</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.segmentation.edit_contour">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.segmentation.</span></span><span class="sig-name descname"><span class="pre">edit_contour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlay_blend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlay_colour_left</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlay_colour_right</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.segmentation.edit_contour" title="Link to this definition">¶</a></dt>
<dd><p>Edit contours with a “paintbrush”. The brush size can be controlled by pressing
Tab and using the mousewhell. Right-click removes, and left-click adds areas to
contours. Overlay colour, transparency (blend) and outline can be controlled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>annotations</strong> (<em>dict</em>) – phenopype annotation containing contours</p></li>
<li><p><strong>overlay_blend</strong> (<em>float</em><em>, </em><em>optional</em>) – transparency / colour-mixing of the contour overlay</p></li>
<li><p><strong>line_width</strong> (<em>int</em><em>, </em><em>optional</em>) – add outline to the contours. useful when overlay_blend == 0</p></li>
<li><p><strong>left_colour</strong> (<em>str</em><em>, </em><em>optional</em>) – overlay colour for left click (include). (for options see pp.colour)</p></li>
<li><p><strong>right_colour</strong> (<em>str</em><em>, </em><em>optional</em>) – overlay colour for right click (exclude). (for options see pp.colour)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotations</strong> – phenopype annotation containing contours</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.segmentation.mask_to_contour">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.segmentation.</span></span><span class="sig-name descname"><span class="pre">mask_to_contour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">box_margin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.segmentation.mask_to_contour" title="Link to this definition">¶</a></dt>
<dd><p>Converts a mask to contour annotation, e.g. for the purpose of extracting information
from this mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>annotation</strong> (<em>dict</em>) – phenopype annotation containing masks</p></li>
<li><p><strong>include</strong> (<em>bool</em><em>, </em><em>optional</em>) – include or exclude area inside contour</p></li>
<li><p><strong>box_margin</strong> (<em>int</em><em>, </em><em>optional</em>) – margin that is added between the outer perimeter of the mask and the box</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotation</strong> – phenopype annotation containing contours</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.segmentation.morphology">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.segmentation.</span></span><span class="sig-name descname"><span class="pre">morphology</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rect'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">operation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'close'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.segmentation.morphology" title="Link to this definition">¶</a></dt>
<dd><p>Performs advanced morphological transformations using erosion and dilation
as basic operations. Provides different kernel shapes and a suite of operation
types (read more about morphological operations here:
<a class="reference external" href="https://docs.opencv.org/master/db/df6/tutorial_erosion_dilatation.html">https://docs.opencv.org/master/db/df6/tutorial_erosion_dilatation.html</a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image (binary)</p></li>
<li><p><strong>kernel_size</strong> (<em>int</em><em>, </em><em>optional</em>) – size of the morphology kernel (has to be odd - even numbers will be ceiled)</p></li>
<li><p><strong>shape</strong> (<em>{&quot;rect&quot;</em><em>, </em><em>&quot;cross&quot;</em><em>, </em><em>&quot;ellipse&quot;} str</em><em>, </em><em>optional</em>) – shape of the kernel</p></li>
<li><p><strong>operation</strong> (<em>{erode</em><em>, </em><em>dilate</em><em>, </em><em>open</em><em>, </em><em>close</em><em>, </em><em>gradient</em><em>, </em><em>tophat</em><em>, </em><em>blackhat</em><em>, </em><em>hitmiss} str</em><em>, </em><em>optional</em>) – <dl class="simple">
<dt>the morphology operation to be performed:</dt><dd><ul>
<li><p>erode: remove pixels from the border</p></li>
<li><p>dilate: add pixels to the border</p></li>
<li><p>open: erosion followed by dilation</p></li>
<li><p>close: dilation followed by erosion</p></li>
<li><p>gradient: difference between dilation and erosion of an input image</p></li>
<li><p>tophat: difference between input image and opening of input image</p></li>
<li><p>blackhat: difference between input image and closing of input image</p></li>
<li><p>hitmiss: find patterns in binary images (read more here:
<a class="reference external" href="https://docs.opencv.org/master/db/d06/tutorial_hitOrMiss.html">https://docs.opencv.org/master/db/d06/tutorial_hitOrMiss.html</a>)</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>iterations</strong> (<em>int</em><em>, </em><em>optional</em>) – number of times to run morphology operation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>image</strong> – processed binary image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.segmentation.threshold">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.segmentation.</span></span><span class="sig-name descname"><span class="pre">threshold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'otsu'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blocksize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">99</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">127</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.segmentation.threshold" title="Link to this definition">¶</a></dt>
<dd><p>Applies a threshold to create a binary image from a grayscale or a multichannel
image (see phenopype.core.preprocessing.decompose_image for channel options).</p>
<dl class="simple">
<dt>Three types of thresholding algorithms are supported:</dt><dd><ul class="simple">
<li><p>otsu: use Otsu algorithm to choose the optimal threshold value</p></li>
<li><p>adaptive: dynamic threshold values across image (uses arguments
“blocksize” and “constant”)</p></li>
<li><p>binary: fixed threshold value (uses argument “value”)</p></li>
</ul>
</dd>
</dl>
<p>Mask annotations can be supplied to include or exclude areas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>method</strong> (<em>{&quot;otsu&quot;</em><em>, </em><em>&quot;adaptive&quot;</em><em>, </em><em>&quot;binary&quot;} str</em><em>, </em><em>optional</em>) – type of thresholding algorithm to be used</p></li>
<li><p><strong>blocksize</strong> (<em>int</em><em>, </em><em>optional</em>) – Size of a pixel neighborhood that is used to calculate a threshold
value for the pixel (has to be odd - even numbers will be ceiled; for
“adaptive” method)</p></li>
<li><p><strong>constant</strong> (<em>int</em><em>, </em><em>optional</em>) – value to subtract from binarization output (for “adaptive” method)</p></li>
<li><p><strong>value</strong> (<em>{between 0 and 255} int</em><em>, </em><em>optional</em>) – thesholding value (for “binary” method)</p></li>
<li><p><strong>{&quot;gray&quot;</strong> (<em>channel</em>) – which channel of the image to use for thresholding</p></li>
<li><p><strong>&quot;red&quot;</strong> (<em>str</em><em>, </em><em>optional</em>) – which channel of the image to use for thresholding</p></li>
<li><p><strong>&quot;green&quot;</strong> (<em>str</em><em>, </em><em>optional</em>) – which channel of the image to use for thresholding</p></li>
<li><p><strong>&quot;blue&quot;}</strong> (<em>str</em><em>, </em><em>optional</em>) – which channel of the image to use for thresholding</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>image</strong> – binary image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.segmentation.watershed">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.segmentation.</span></span><span class="sig-name descname"><span class="pre">watershed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'l1'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.segmentation.watershed" title="Link to this definition">¶</a></dt>
<dd><p>Performs non-parametric marker-based segmentation - useful if many detected
contours are touching or overlapping with each other. Input image should be
a binary image that serves as the true background. Iteratively, edges are
eroded, the difference serves as markers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>image_thresh</strong> (<em>array</em>) – binary image (e.g. from threshold)</p></li>
<li><p><strong>kernel_size</strong> (<em>int</em><em>, </em><em>optional</em>) – size of the diff-kernel (has to be odd - even numbers will be ceiled)</p></li>
<li><p><strong>iterations</strong> (<em>int</em><em>, </em><em>optional</em>) – number of times to apply diff-operation</p></li>
<li><p><strong>distance_cutoff</strong> (<em>{between 0 and 1} float</em><em>, </em><em>optional</em>) – watershed distance transform cutoff (larger values discard more pixels)</p></li>
<li><p><strong>distance_mask</strong> (<em>{0</em><em>, </em><em>3</em><em>, </em><em>5} int</em><em>, </em><em>optional</em>) – size of distance mask - not all sizes work with all distance types (will
be coerced to 0)</p></li>
<li><p><strong>distance_type</strong> (<em>{&quot;user&quot;</em><em>, </em><em>&quot;l1&quot;</em><em>, </em><em>&quot;l2&quot;</em><em>, </em><em>&quot;C&quot;</em><em>, </em><em>&quot;l12&quot;</em><em>, </em><em>&quot;fair&quot;</em><em>, </em><em>&quot;welsch&quot;</em><em>, </em><em>&quot;huber&quot;} str</em><em>, </em><em>optional</em>) – distance transformation type</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>image</strong> – binary image</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-phenopype.core.measurement">
<span id="measurement"></span><h2>Measurement<a class="headerlink" href="#module-phenopype.core.measurement" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.measurement.set_landmark">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.measurement.</span></span><span class="sig-name descname"><span class="pre">set_landmark</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.measurement.set_landmark" title="Link to this definition">¶</a></dt>
<dd><p>Place landmarks. Note that modifying the appearance of the points will only
be effective for the placement, not for subsequent drawing, visualization,
and export.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>point_colour</strong> (<em>str</em><em>, </em><em>optional</em>) – landmark point colour (for options see pp.colour)</p></li>
<li><p><strong>point_size</strong> (<em>int</em><em>, </em><em>optional</em>) – landmark point size in pixels</p></li>
<li><p><strong>label</strong> (<em>bool</em><em>, </em><em>optional</em>) – add text label</p></li>
<li><p><strong>label_colour</strong> (<em>str</em><em>, </em><em>optional</em>) – landmark label colour (for options see pp.colour)</p></li>
<li><p><strong>label_size</strong> (<em>int</em><em>, </em><em>optional</em>) – landmark label font size (scaled to image)</p></li>
<li><p><strong>label_width</strong> (<em>int</em><em>, </em><em>optional</em>) – landmark label font width  (scaled to image)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotations</strong> – phenopype annotation containing landmarks</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.measurement.set_polyline">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.measurement.</span></span><span class="sig-name descname"><span class="pre">set_polyline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.measurement.set_polyline" title="Link to this definition">¶</a></dt>
<dd><p>Set points, draw a connected line between them, and measure its length. Note
that modifying the appearance of the lines will only be effective for the
placement, not for subsequent drawing, visualization, and export.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>line_width</strong> (<em>int</em><em>, </em><em>optional</em>) – width of polyline</p></li>
<li><p><strong>line_colour</strong> (<em>str</em><em>, </em><em>optional</em>) – poly line colour (for options see pp.colour)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotations</strong> – phenopype annotation containing polylines</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.measurement.detect_skeleton">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.measurement.</span></span><span class="sig-name descname"><span class="pre">detect_skeleton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thinning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zhangsuen'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.measurement.detect_skeleton" title="Link to this definition">¶</a></dt>
<dd><p>Applies a binary blob thinning operation, to achieve a skeletization of
the input image using the technique, i.e. retrieve the topological skeleton
(<a class="reference external" href="https://en.wikipedia.org/wiki/Topological_skeleton">https://en.wikipedia.org/wiki/Topological_skeleton</a>), using the algorithms
of Thang-Suen or Guo-Hall.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>annotation</strong> (<em>dict</em>) – phenopype annotation containing contours</p></li>
<li><p><strong>thinning</strong> (<em>{&quot;zhangsuen&quot;</em><em>, </em><em>&quot;guohall&quot;} str</em><em>, </em><em>optional</em>) – type of thinning algorithm to apply</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotations</strong> – phenopype annotation containing skeleton coords</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.measurement.compute_shape_features">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.measurement.</span></span><span class="sig-name descname"><span class="pre">compute_shape_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['basic']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_diameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.measurement.compute_shape_features" title="Link to this definition">¶</a></dt>
<dd><p>Collects a set of 41 shape descriptors from every contour. There are three sets of
descriptors: basic shape descriptors, moments, and hu moments. Two additional features,
contour area and diameter are already provided by the find_contours function.
<a class="reference external" href="https://docs.opencv.org/3.4.9/d3/dc0/group__imgproc__shape.html">https://docs.opencv.org/3.4.9/d3/dc0/group__imgproc__shape.html</a></p>
<p>Of the basic shape descriptors, all 12 are translational invariants, 8 are rotation
invariant (rect_height and rect_width are not) and  4 are also scale invariant
(circularity, compactness, roundness, solidity).
<a class="reference external" href="https://en.wikipedia.org/wiki/Shape_factor_(image_analysis_and_microscopy">https://en.wikipedia.org/wiki/Shape_factor_(image_analysis_and_microscopy</a>)</p>
<p>The moments set encompasses 10 raw spatial moments (some are translation and rotation
invariants, but not all), 7 central moments (all translational invariant) and 7 central
normalized moments (all translational and scale invariant).
<a class="reference external" href="https://en.wikipedia.org/wiki/Image_moment">https://en.wikipedia.org/wiki/Image_moment</a></p>
<p>The 7 hu moments are derived of the central moments, and are all translation, scale
and rotation invariant.
<a class="reference external" href="http://www.sci.utah.edu/~gerig/CS7960-S2010/handouts/Hu.pdf">http://www.sci.utah.edu/~gerig/CS7960-S2010/handouts/Hu.pdf</a></p>
<dl class="simple">
<dt>Basic shape descriptors:</dt><dd><ul class="simple">
<li><p>circularity = 4 * np.pi * contour_area / contour_perimeter_length^2</p></li>
<li><p>compactness = √(4 * contour_area / pi) / contour_diameter</p></li>
<li><p>min_rect_max = minimum bounding rectangle major axis</p></li>
<li><p>min_rect_min = minimum bounding rectangle minor axis</p></li>
<li><p>perimeter_length = total length of contour perimenter</p></li>
<li><p>rect_height = height of the bounding rectangle (“caliper dim 1”)</p></li>
<li><p>rect_width = width of the bounding rectangle (“caliper dim 2”)</p></li>
<li><p>roundness = (4 * contour_area) / (pi * contour_perimeter_length^2)</p></li>
<li><p>solidity = contour_area / convex_hull_area</p></li>
<li><p>tri_area = area of minimum bounding triangle</p></li>
</ul>
</dd>
<dt>Moments:</dt><dd><ul class="simple">
<li><p>raw moments = m00, m10, m01, m20, m11, m02, m30, m21,  m12, m03</p></li>
<li><p>central moments = mu20, mu11, mu02, mu30, mu21, mu12, mu03,</p></li>
<li><p>normalized central moments = nu20, nu11, nu02, nu30, nu21, nu12, nu03</p></li>
</ul>
</dd>
<dt>Hu moments:</dt><dd><dl class="simple">
<dt>hu moments:</dt><dd><p>hu1 - hu7</p>
</dd>
</dl>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>features</strong> (<em>[</em><em>&quot;basic&quot;</em><em>, </em><em>&quot;moments&quot;</em><em>, </em><em>&quot;hu_moments&quot;</em><em>]</em>) – type of shape features to extract</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotations</strong> – phenopype annotation containing shape features</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.measurement.compute_texture_features">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.measurement.</span></span><span class="sig-name descname"><span class="pre">compute_texture_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['firstorder']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['blue',</span> <span class="pre">'green',</span> <span class="pre">'red']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_diameter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.measurement.compute_texture_features" title="Link to this definition">¶</a></dt>
<dd><p>Collects 120 texture features using the pyradiomics feature extractor
( <a class="reference external" href="https://pyradiomics.readthedocs.io/en/latest/features.html">https://pyradiomics.readthedocs.io/en/latest/features.html</a> ):</p>
<ul class="simple">
<li><p>firstorder: First Order Statistics (19 features)</p></li>
<li><p>shape2d: Shape-based (2D) (16 features)</p></li>
<li><p>glcm: Gray Level Cooccurence Matrix (24 features)</p></li>
<li><p>gldm: Gray Level Dependence Matrix (14 features)</p></li>
<li><p>glrm: Gray Level Run Length Matrix (16 features)</p></li>
<li><p>glszm: Gray Level Size Zone Matrix (16 features)</p></li>
<li><p>ngtdm: Neighbouring Gray Tone Difference Matrix (5 features)</p></li>
</ul>
<p>Features are collected from every contour that is supplied along with the raw
image, which, depending on the number of contours, may result in long computing
time and very large dataframes.</p>
<p>The specified channels correspond to the channels that can be selected in
phenopype.core.preprocessing.decompose_image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – input image</p></li>
<li><p><strong>annotation</strong> (<em>dict</em>) – phenopype annotation containing contours</p></li>
<li><p><strong>features</strong> (<em>[</em><em>&quot;firstorder&quot;</em><em>, </em><em>&quot;shape&quot;</em><em>, </em><em>&quot;glcm&quot;</em><em>, </em><em>&quot;gldm&quot;</em><em>, </em><em>&quot;glrlm&quot;</em><em>, </em><em>&quot;glszm&quot;</em><em>, </em><em>&quot;ngtdm&quot;</em><em>] </em><em>list</em><em>, </em><em>optional</em>) – type of texture features to extract</p></li>
<li><p><strong>channels</strong> (<em>list</em><em>, </em><em>optional</em>) – image channel to extract texture features from. if none is given, will extract from all channels in image</p></li>
<li><p><strong>min_diameter</strong> (<em>int</em><em>, </em><em>optional</em>) – minimum diameter of the contour (shouldn’t be too small for sensible feature extraction’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>annotations</strong> – phenopype annotation containing texture features</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-phenopype.core.visualization">
<span id="visualization"></span><h2>Visualization<a class="headerlink" href="#module-phenopype.core.visualization" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.visualization.draw_comment">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.visualization.</span></span><span class="sig-name descname"><span class="pre">draw_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'white'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_border</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'black'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'simplex'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.visualization.draw_comment" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – image used as canvas</p></li>
<li><p><strong>annotation</strong> (<em>dict</em>) – phenopype annotation containing QR-code (comment)</p></li>
<li><p><strong>line_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour line colour - default colour as specified in settings</p></li>
<li><p><strong>line_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour line width - automatically scaled to image by default</p></li>
<li><p><strong>label</strong> (<em>bool</em><em>, </em><em>optional</em>) – draw reference label</p></li>
<li><p><strong>label_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour label colour - default colour as specified in settings</p></li>
<li><p><strong>label_size</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font size - automatically scaled to image by default</p></li>
<li><p><strong>label_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font thickness - automatically scaled to image by default</p></li>
<li><p><strong>**kwargs</strong> (<em>TYPE</em>) – DESCRIPTION.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>image</strong> – canvas with contours</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.visualization.draw_contour">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.visualization.</span></span><span class="sig-name descname"><span class="pre">draw_contour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset_coords</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox_line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.visualization.draw_contour" title="Link to this definition">¶</a></dt>
<dd><p>Draw contours and their labels onto a canvas. Can be filled or empty, offset
coordinates can be supplied.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – image used as canvas</p></li>
<li><p><strong>annotation</strong> (<em>dict</em>) – phenopype annotation containing contours</p></li>
<li><p><strong>offset_coords</strong> (<em>tuple</em><em>, </em><em>optional</em>) – offset coordinates, will be added to all contours</p></li>
<li><p><strong>label</strong> (<em>bool</em><em>, </em><em>optional</em>) – draw contour label</p></li>
<li><p><strong>fill</strong> (<em>float</em><em>, </em><em>optional</em>) – background transparency for contour fill (0=no fill).</p></li>
<li><p><strong>level</strong> (<em>int</em><em>, </em><em>optional</em>) – the default is 3.</p></li>
<li><p><strong>line_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour line colour - default colour as specified in settings</p></li>
<li><p><strong>line_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour line width - automatically scaled to image by default</p></li>
<li><p><strong>label_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour label colour - default colour as specified in settings</p></li>
<li><p><strong>label_size</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font size - automatically scaled to image by default</p></li>
<li><p><strong>label_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font thickness - automatically scaled to image by default</p></li>
<li><p><strong>bounding_box</strong> (<em>bool</em><em>, </em><em>optional</em>) – draw bounding box around the contour</p></li>
<li><p><strong>bounding_box_ext</strong> (<em>in</em><em>, </em><em>optional</em>) – value in pixels by which the bounding box should be extended</p></li>
<li><p><strong>bounding_box_colour</strong> (<em>{&quot;green&quot;</em><em>, </em><em>&quot;red&quot;</em><em>, </em><em>&quot;blue&quot;</em><em>, </em><em>&quot;black&quot;</em><em>, </em><em>&quot;white&quot;} str</em><em>, </em><em>optional</em>) – bounding box line colour</p></li>
<li><p><strong>bounding_box_line_width</strong> (<em>int</em><em>, </em><em>optional</em>) – bounding box line width</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>image</strong> – canvas with contours</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.visualization.draw_landmark">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.visualization.</span></span><span class="sig-name descname"><span class="pre">draw_landmark</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.visualization.draw_landmark" title="Link to this definition">¶</a></dt>
<dd><p>Draw landmarks into an image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – image used as canvas</p></li>
<li><p><strong>annotation</strong> (<em>dict</em>) – phenopype annotation containing landmarks</p></li>
<li><p><strong>label</strong> (<em>bool</em><em>, </em><em>optional</em>) – draw landmark label</p></li>
<li><p><strong>label_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour label colour - default colour as specified in settings</p></li>
<li><p><strong>label_size</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font size - automatically scaled to image by default</p></li>
<li><p><strong>label_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font thickness - automatically scaled to image by default</p></li>
<li><p><strong>offset</strong> (<em>int</em><em>, </em><em>optional</em>) – add offset (in pixels) to text location (to bottom-left corner of the text string)</p></li>
<li><p><strong>point_colour</strong> (<em>{&quot;green&quot;</em><em>, </em><em>&quot;red&quot;</em><em>, </em><em>&quot;blue&quot;</em><em>, </em><em>&quot;black&quot;</em><em>, </em><em>&quot;white&quot;} str</em><em>, </em><em>optional</em>) – landmark point colour</p></li>
<li><p><strong>point_size</strong> (<em>int</em><em>, </em><em>optional</em>) – landmark point size in pixels</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>image</strong> – canvas with landmarks</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.visualization.draw_mask">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.visualization.</span></span><span class="sig-name descname"><span class="pre">draw_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.visualization.draw_mask" title="Link to this definition">¶</a></dt>
<dd><p>Draw masks into an image. This function is also used to draw the perimeter
of a created or detected reference card.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – image used as canvas</p></li>
<li><p><strong>annotation</strong> (<em>dict</em>) – phenopype annotation containing masks</p></li>
<li><p><strong>label</strong> (<em>bool</em><em>, </em><em>optional</em>) – draw mask label</p></li>
<li><p><strong>line_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour line colour - default colour as specified in settings</p></li>
<li><p><strong>line_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour line width - automatically scaled to image by default</p></li>
<li><p><strong>label_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour label colour - default colour as specified in settings</p></li>
<li><p><strong>label_size</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font size - automatically scaled to image by default</p></li>
<li><p><strong>label_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font thickness - automatically scaled to image by default</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>image</strong> – canvas with masks</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.visualization.draw_polyline">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.visualization.</span></span><span class="sig-name descname"><span class="pre">draw_polyline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.visualization.draw_polyline" title="Link to this definition">¶</a></dt>
<dd><p>Draw masks into an image. This function is also used to draw the perimeter
of a created or detected reference card.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – image used as canvas</p></li>
<li><p><strong>annotation</strong> (<em>dict</em>) – phenopype annotation containing lines</p></li>
<li><p><strong>line_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour line colour - default colour as specified in settings</p></li>
<li><p><strong>line_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour line width - automatically scaled to image by default
DESCRIPTION. The default is “auto”.</p></li>
<li><p><strong>show_nodes</strong> (<em>bool</em><em>, </em><em>optional</em>) – show nodes of polyline. The default is False.</p></li>
<li><p><strong>node_colour</strong> (<em>str</em><em>, </em><em>optional</em>) – colour of node points. The default is “default”.</p></li>
<li><p><strong>node_size</strong> (<em>int</em><em>, </em><em>optional</em>) – size of node points. The default is “auto”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>image</strong> – canvas with lines</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.visualization.draw_QRcode">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.visualization.</span></span><span class="sig-name descname"><span class="pre">draw_QRcode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.visualization.draw_QRcode" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – image used as canvas</p></li>
<li><p><strong>annotation</strong> (<em>dict</em>) – phenopype annotation containing QR-code (comment)</p></li>
<li><p><strong>line_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour line colour - default colour as specified in settings</p></li>
<li><p><strong>line_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour line width - automatically scaled to image by default</p></li>
<li><p><strong>label</strong> (<em>bool</em><em>, </em><em>optional</em>) – draw reference label</p></li>
<li><p><strong>label_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour label colour - default colour as specified in settings</p></li>
<li><p><strong>label_size</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font size - automatically scaled to image by default</p></li>
<li><p><strong>label_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font thickness - automatically scaled to image by default</p></li>
<li><p><strong>**kwargs</strong> (<em>TYPE</em>) – DESCRIPTION.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>canvas</strong> – DESCRIPTION.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.visualization.draw_reference">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.visualization.</span></span><span class="sig-name descname"><span class="pre">draw_reference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.visualization.draw_reference" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – image used as canvas</p></li>
<li><p><strong>annotation</strong> (<em>dict</em>) – phenopype annotation containing reference data</p></li>
<li><p><strong>line_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour line colour - default colour as specified in settings</p></li>
<li><p><strong>line_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour line width - automatically scaled to image by default</p></li>
<li><p><strong>label</strong> (<em>bool</em><em>, </em><em>optional</em>) – draw reference label</p></li>
<li><p><strong>label_colour</strong> (<em>{&quot;default&quot;</em><em>, </em><em>...</em><em> see phenopype.print_colours</em><em>(</em><em>)</em><em>} str</em><em>, </em><em>optional</em>) – contour label colour - default colour as specified in settings</p></li>
<li><p><strong>label_size</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font size - automatically scaled to image by default</p></li>
<li><p><strong>label_width</strong> (<em>{&quot;auto&quot;</em><em>, </em><em>...</em><em> int &gt; 0} int</em><em>, </em><em>optional</em>) – contour label font thickness - automatically scaled to image by default</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>canvas</strong> – DESCRIPTION.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>TYPE</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.visualization.select_canvas">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.visualization.</span></span><span class="sig-name descname"><span class="pre">select_canvas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">canvas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.visualization.select_canvas" title="Link to this definition">¶</a></dt>
<dd><p>Isolate a colour channel from an image or select canvas for the pype method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – image used as canvas</p></li>
<li><p><strong>canvas</strong> (<em>{&quot;mod&quot;</em><em>, </em><em>&quot;bin&quot;</em><em>, </em><em>&quot;gray&quot;</em><em>, </em><em>&quot;raw&quot;</em><em>, </em><em>&quot;red&quot;</em><em>, </em><em>&quot;green&quot;</em><em>, </em><em>&quot;blue&quot;} str</em><em>, </em><em>optional</em>) – the type of canvas to be used for visual feedback. some types require a
function to be run first, e.g. “bin” needs a segmentation algorithm to be
run first. black/white images don’t have colour channels. coerced to 3D
array by default</p></li>
<li><p><strong>multi</strong> (<em>bool</em><em>, </em><em>optional</em>) – coerce returned array to multichannel (3-channel)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>canvas</strong> – canvas for drawing</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-phenopype.core.export">
<span id="export"></span><h2>Export<a class="headerlink" href="#module-phenopype.core.export" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.export.convert_annotation">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.export.</span></span><span class="sig-name descname"><span class="pre">convert_annotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_type_new</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_id_new</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.export.convert_annotation" title="Link to this definition">¶</a></dt>
<dd><p>convert coordinates from one annotation type to another. currently, only
converting from contour to mask format is possible</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>annotations</strong> (<em>dict</em>) – A phenopype annotation dictionary.</p></li>
<li><p><strong>annotation_type</strong> (<em>str</em><em> | </em><em>list</em><em> of </em><em>str</em>) – If dict contains multiple annotation types, select one or more to
load. None will load all types.</p></li>
<li><p><strong>annotation_id</strong> (<em>str</em><em> | </em><em>list</em><em> of </em><em>str</em>) – If file contains multiple annotation IDs, select one or more to
load. None will load all IDs within a type.</p></li>
<li><p><strong>annotation_type_new</strong> (<em>str</em>) – target annotation type</p></li>
<li><p><strong>annotation_id_new</strong> (<em>str</em><em> | </em><em>list</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – target annotation id</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) – if target exists, overwrite? The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.export.export_csv">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.export.</span></span><span class="sig-name descname"><span class="pre">export_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.export.export_csv" title="Link to this definition">¶</a></dt>
<dd><p>export annotations from json to csv format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>annotations</strong> (<em>dict</em>) – A phenopype annotation dictionary.</p></li>
<li><p><strong>dir_path</strong> (<em>str</em>) – To which folder should the csv file be exported.
PYPE: Automatically set to the current image directory</p></li>
<li><p><strong>annotation_type</strong> (<em>str / list</em><em>, </em><em>optional</em>) – Which annotation types should be exported - can be string or list of strings.</p></li>
<li><p><strong>image_name</strong> (<em>str</em>) – Image name to be added as a column
PYPE: Automatically adds the image name.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) – Should an existing csv file be overwritten. The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.export.load_annotation">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.export.</span></span><span class="sig-name descname"><span class="pre">load_annotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.export.load_annotation" title="Link to this definition">¶</a></dt>
<dd><p>load phenopype annotations file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>str</em>) – Path to JSON file containing annotations</p></li>
<li><p><strong>annotation_type</strong> (<em>str</em><em> | </em><em>list</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – If file contains multiple annotation types, select one or more to
load. None will load all types. The default is None.</p></li>
<li><p><strong>annotation_id</strong> (<em>str</em><em> | </em><em>list</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – If file contains multiple annotation IDs, select one or more to
load. None will load all IDs within a type. The default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Loaded annotations.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.export.save_annotation">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.export.</span></span><span class="sig-name descname"><span class="pre">save_annotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.export.save_annotation" title="Link to this definition">¶</a></dt>
<dd><p>save phenopype annotations file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>annotation</strong> (<em>dict</em>) – <p>Annotation dictionary formatted by phenopype specifications:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">annotation_type</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">annotation_id</span> <span class="o">=</span> <span class="n">annotation</span><span class="p">,</span>
        <span class="n">annotation_id</span> <span class="o">=</span> <span class="n">annotation</span><span class="p">,</span>
        <span class="o">...</span>
        <span class="p">},</span>
    <span class="n">annotation_type</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">annotation_id</span> <span class="o">=</span> <span class="n">annotation</span><span class="p">,</span>
        <span class="n">annotation_id</span> <span class="o">=</span> <span class="n">annotation</span><span class="p">,</span>
        <span class="o">...</span>
        <span class="p">},</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>annotation_id</strong> (<em>str</em><em>, </em><em>optional</em>) – String (“a”-“z”) specifying the annotation ID to be saved. None will
save all IDs. The default is None.</p></li>
<li><p><strong>dir_path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to folder where annotation should be saved. None will save the
annotation in the current Python working directory. The default is None.</p></li>
<li><p><strong>file_name</strong> (<em>str</em><em>, </em><em>optional</em>) – Filename for JSON file containing annotation. The default is
“annotations.json”.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>optional</em>) – <p>Overwrite options should file or annotation entry in file exist:</p>
<blockquote>
<div><ul>
<li><p>False = Neither file or entry will be overwritten</p></li>
<li><p>True or “entry” = A single entry will be overwritten</p></li>
<li><p>”file” = The whole will be overwritten.</p></li>
</ul>
</div></blockquote>
<p>The default is False.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.export.save_ROI">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.export.</span></span><span class="sig-name descname"><span class="pre">save_ROI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">channel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'raw'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">counter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotate_padding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_apply</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">align</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'v'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jpg'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'original'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">canvas_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">canvas_fit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.export.save_ROI" title="Link to this definition">¶</a></dt>
<dd><p>Save a region of interest (ROI) indicated by contour or mask coordinates as
a crop of the original image, optionally with white background</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – An image containing regions of interest (ROI).</p></li>
<li><p><strong>annotations</strong> (<em>dict</em>) – A phenopype annotation dict containing one or more contour coordinate
entries.</p></li>
<li><p><strong>dir_path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to folder where annotation should be saved. None will save the
annotation in the current Python working directory. The default is None.</p></li>
<li><p><strong>file_name</strong> (<em>str</em>) – Name for ROI series (should reflect image content, not “ROI” or the like
which is specified with prefix or suffix arguments). The contour index
will be added as a numeric string at the end of the filename.</p></li>
<li><p><strong>channel</strong> (<em>str</em><em>, </em><em>optional</em>) – Which channel to save. The default is “raw”.</p></li>
<li><p><strong>counter</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – Whether to add a contour to the filename. The default is True.</p></li>
<li><p><strong>prefix</strong> (<em>str</em><em>, </em><em>optional</em>) – Prefix to prepend to individual ROI filenames. The default is None.</p></li>
<li><p><strong>suffix</strong> (<em>str</em><em>, </em><em>optional</em>) – Suffix to append to individual ROI filenames. The default is “roi”.</p></li>
<li><p><strong>extension</strong> (<em>str</em><em>, </em><em>optional</em>) – New e. The default is “png”.</p></li>
<li><p><strong>background</strong> (<em>str</em><em>, </em><em>optional</em>) – Sets background. The default is “original”, providing the background
contained within the bounding rectangle. “transparent” will produce a
png file with tranparent background. “white”, “black” or any other
color will produce a different background color.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="phenopype.core.export.save_canvas">
<span class="sig-prename descclassname"><span class="pre">phenopype.core.export.</span></span><span class="sig-name descname"><span class="pre">save_canvas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'jpg'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#phenopype.core.export.save_canvas" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>ndarray</em>) – A canvas to be saved.</p></li>
<li><p><strong>save_suffix</strong> (<em>str</em>) – A suffix to be appended to the filename.</p></li>
<li><p><strong>dir_path</strong> (<em>str</em>) – Path to directory to save canvas.</p></li>
<li><p><strong>resize</strong> (<em>float</em><em>, </em><em>optional</em>) – resize factor for the image (1 = 100%, 0.5 = 50%, 0.1 = 10% of</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../video/">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Video analysis</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../utility/">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Utility functions</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Moritz Lürig
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 2024-07-03 18:34:04</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Core modules</a><ul>
<li><a class="reference internal" href="#module-phenopype.core.preprocessing">Preprocessing</a><ul>
<li><a class="reference internal" href="#phenopype.core.preprocessing.blur"><code class="docutils literal notranslate"><span class="pre">blur()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.preprocessing.clip_histogram"><code class="docutils literal notranslate"><span class="pre">clip_histogram()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.preprocessing.create_mask"><code class="docutils literal notranslate"><span class="pre">create_mask()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.preprocessing.detect_mask"><code class="docutils literal notranslate"><span class="pre">detect_mask()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.preprocessing.create_reference"><code class="docutils literal notranslate"><span class="pre">create_reference()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.preprocessing.detect_reference"><code class="docutils literal notranslate"><span class="pre">detect_reference()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.preprocessing.detect_QRcode"><code class="docutils literal notranslate"><span class="pre">detect_QRcode()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.preprocessing.decompose_image"><code class="docutils literal notranslate"><span class="pre">decompose_image()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.preprocessing.write_comment"><code class="docutils literal notranslate"><span class="pre">write_comment()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-phenopype.core.segmentation">Segmentation</a><ul>
<li><a class="reference internal" href="#phenopype.core.segmentation.contour_to_mask"><code class="docutils literal notranslate"><span class="pre">contour_to_mask()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.segmentation.detect_contour"><code class="docutils literal notranslate"><span class="pre">detect_contour()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.segmentation.edit_contour"><code class="docutils literal notranslate"><span class="pre">edit_contour()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.segmentation.mask_to_contour"><code class="docutils literal notranslate"><span class="pre">mask_to_contour()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.segmentation.morphology"><code class="docutils literal notranslate"><span class="pre">morphology()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.segmentation.threshold"><code class="docutils literal notranslate"><span class="pre">threshold()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.segmentation.watershed"><code class="docutils literal notranslate"><span class="pre">watershed()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-phenopype.core.measurement">Measurement</a><ul>
<li><a class="reference internal" href="#phenopype.core.measurement.set_landmark"><code class="docutils literal notranslate"><span class="pre">set_landmark()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.measurement.set_polyline"><code class="docutils literal notranslate"><span class="pre">set_polyline()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.measurement.detect_skeleton"><code class="docutils literal notranslate"><span class="pre">detect_skeleton()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.measurement.compute_shape_features"><code class="docutils literal notranslate"><span class="pre">compute_shape_features()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.measurement.compute_texture_features"><code class="docutils literal notranslate"><span class="pre">compute_texture_features()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-phenopype.core.visualization">Visualization</a><ul>
<li><a class="reference internal" href="#phenopype.core.visualization.draw_comment"><code class="docutils literal notranslate"><span class="pre">draw_comment()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.visualization.draw_contour"><code class="docutils literal notranslate"><span class="pre">draw_contour()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.visualization.draw_landmark"><code class="docutils literal notranslate"><span class="pre">draw_landmark()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.visualization.draw_mask"><code class="docutils literal notranslate"><span class="pre">draw_mask()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.visualization.draw_polyline"><code class="docutils literal notranslate"><span class="pre">draw_polyline()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.visualization.draw_QRcode"><code class="docutils literal notranslate"><span class="pre">draw_QRcode()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.visualization.draw_reference"><code class="docutils literal notranslate"><span class="pre">draw_reference()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.visualization.select_canvas"><code class="docutils literal notranslate"><span class="pre">select_canvas()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-phenopype.core.export">Export</a><ul>
<li><a class="reference internal" href="#phenopype.core.export.convert_annotation"><code class="docutils literal notranslate"><span class="pre">convert_annotation()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.export.export_csv"><code class="docutils literal notranslate"><span class="pre">export_csv()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.export.load_annotation"><code class="docutils literal notranslate"><span class="pre">load_annotation()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.export.save_annotation"><code class="docutils literal notranslate"><span class="pre">save_annotation()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.export.save_ROI"><code class="docutils literal notranslate"><span class="pre">save_ROI()</span></code></a></li>
<li><a class="reference internal" href="#phenopype.core.export.save_canvas"><code class="docutils literal notranslate"><span class="pre">save_canvas()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=fceb765d"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="https://unpkg.com/twemoji@latest/dist/twemoji.min.js"></script>
    <script src="../../_static/twemoji.js?v=a4381b3f"></script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../_static/js/custom.js?v=07e4e0e4"></script>
    <script src="https://cdn.jsdelivr.net/gh/mluerig/website-assets/assets/js/enforce_trailing_slash.min.js"></script>
    </body>
</html>